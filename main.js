(()=>{function e(e){return fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=7b175c2aefe32be480ff27b12fc78e51`,{mode:"cors"}).then((e=>e.json())).then((e=>{console.log(e),console.log({temperature:l(e.main.temp),weatherDes:e.weather[0].main});let t=document.querySelector(".loader");return setTimeout((()=>{t.style.visibility="hidden"}),1e3),{temperature:l(e.main.temp),weatherDes:e.weather[0].main}})).catch((e=>{console.log("error"),alert("Error, didnt find city!"),document.querySelector(".loader").style.visibility="hidden"}))}e("Berlin").then((e=>{console.log(e);let t=document.querySelector(".info"),n=document.createElement("h3");n.textContent="Berlin";let o=document.createElement("h3");o.setAttribute("id","temp"),o.textContent=e.temperature+" °C";let l=document.createElement("h3");l.textContent=e.weatherDes,t.append(n,o,l),r(e.weatherDes)}));const t=document.querySelector("#searchInput"),n=document.querySelector("#searchBtn"),o=document.querySelector("#swapBtn");function r(e){console.log(e),"Rain"==e?document.body.style.backgroundImage="url('css/rain.jpg')":"Clouds"==e?document.body.style.backgroundImage="url('css/clouds.jpg')":"Clear"==e&&(document.body.style.backgroundImage="url('css/sun.jpg')")}function l(e){let t=e-273.15;return Math.round(100*t)/100}n.addEventListener("click",(()=>{document.querySelector(".loader").style.visibility="visible",e(`${t.value}`).then((e=>{console.log(e);let n=document.querySelector(".info");n.innerHTML="";let o=document.createElement("h3");o.textContent=t.value;let l=document.createElement("h3");l.setAttribute("id","temp"),l.textContent=e.temperature+" °C";let c=document.createElement("h3");c.textContent=e.weatherDes,n.append(o,l,c),r(e.weatherDes)}))})),o.addEventListener("click",(()=>{let e=document.querySelector("#temp"),t=e.textContent.split(" ");if(console.log(t),"°F"==o.textContent)return e.textContent=function(e){let t=1.8*e+32;return Math.round(100*t)/100}(t[0])+" °F",void(o.textContent="°C");"°C"==o.textContent&&(e.textContent=function(e){let t=5/9*(e-32);return Math.round(100*t)/100}(t[0])+" °C",o.textContent="°F")}))})();