(()=>{async function e(e){const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=7b175c2aefe32be480ff27b12fc78e51`,{mode:"cors"}),n=await t.json();return{temperature:(o=n.main.temp,o-273.15),weatherDes:n.weather[0].main,obj:n};var o}e("Berlin").then((e=>{console.log(e);let t=document.querySelector(".info"),n=document.createElement("h3");n.textContent="Berlin";let o=document.createElement("h3");o.setAttribute("id","temp"),o.textContent=e.temperature;let c=document.createElement("h3");c.textContent=e.weatherDes,t.append(n,o,c),r(e.weatherDes)}));const t=document.querySelector("#search"),n=document.querySelector("#searchBtn"),o=document.querySelector("#swapBtn");function r(e){console.log(e),"Rain"==e?document.body.style.backgroundImage="url('css/rain.jpg')":"Clouds"==e?document.body.style.backgroundImage="url('css/clouds.jpg')":"Clear"==e&&(document.body.style.backgroundImage="url('css/sun.jpg')")}function c(e){let t=5/9*(e-32);return Math.round(100*t)/100}n.addEventListener("click",(()=>{e(`${t.value}`).then((e=>{console.log(e);let n=document.querySelector(".info");n.innerHTML="";let o=document.createElement("h3");o.textContent=t.value;let c=document.createElement("h3");c.setAttribute("id","temp"),c.textContent=e.temperature;let a=document.createElement("h3");a.textContent=e.weatherDes,n.append(o,c,a),r(e.weatherDes)}))})),o.addEventListener("click",(()=>{let e=document.querySelector("#temp"),t=e.textContent;if("째F"==o.textContent)return e.textContent=function(e){let t=1.8*e+32;return Math.round(100*t)/100}(t),void(o.textContent="째C");"째C"==o.textContent&&(e.textContent=c(t),o.textContent="째F")}));let a=c(289.9);console.log(a)})();